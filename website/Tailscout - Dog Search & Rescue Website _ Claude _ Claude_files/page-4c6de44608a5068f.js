(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4670],{2341:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,N:()=>s});var r=n(54568),a=n(7620);let o=(0,a.createContext)(null),i=()=>{let e=(0,a.useContext)(o);return void 0===e?null:e},s=e=>{let{children:t,settings:n}=e;return(0,r.jsx)(o.Provider,{value:n,children:t})}},2462:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>o,Jd:()=>r,lx:()=>a});let r=["proMonthlyPromoCode","proAnnualPromoCode","welcomeMessageTitle","utmParams","max5xMonthlyPromoCode","max20xMonthlyPromoCode"],a=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},o=(e,t)=>(null==t?void 0:t.overrides)?{...e,...t.overrides}:e},2975:(e,t,n)=>{"use strict";n.d(t,{ArkoseTokenProvider:()=>m,D5:()=>b,vr:()=>g});var r=n(54568),a=n(77186),o=n(27062),i=n(90119),s=n(70825),l=n(8139),c=n(7620),d=n(10158),u=n(19125);let p="ak-session-token",f=e=>{let{host:t,apiKey:n,nonce:a,integrity:o,onCompleted:i,onShown:d,onShow:u,onHide:p,onError:f,setArkoseEnforcement:h}=e,v=e=>{e.setConfig({onCompleted:i,onShown:d,onShow:u,onHide:p,onError:f}),h(e)};return(0,c.useEffect)(()=>()=>{window.setupEnforcement=void 0},[]),(0,r.jsx)(l.default,{id:"arkose-script",src:"https://".concat(t,"/v2/").concat(n,"/api.js"),type:"text/javascript","data-callback":"setupEnforcement",async:!0,defer:!0,onLoad:()=>{window.setupEnforcement||(window.setupEnforcement=v)},onError:e=>(0,s.Cp)(e),nonce:a,integrity:o,crossOrigin:"anonymous"})},h=()=>{let e=(0,i.V)(),t=(0,d.fZ)(),{value:n}=(0,o.fS)("ak_enabled");return!e&&t&&n},v=(0,c.createContext)({isReady:!1,isChallenging:!1,lastCallerId:void 0,needsToken:!1,startTokenFlow:()=>{}});function m(e){let{host:t,apiKey:n,nonce:a,integrity:o,children:i}=e,l=h()&&!!t&&!!n&&!!o,[d,m]=(0,c.useState)(void 0),[g,b]=(0,c.useState)(void 0),[x,w]=(0,c.useState)(!1),[y,C]=(0,u.V)(p,void 0),_=l&&!y;return(0,r.jsxs)(v.Provider,{value:{isReady:!!d,isChallenging:x,needsToken:_,lastCallerId:g,startTokenFlow:e=>{b(e),null==d||d.run()}},children:[i,l&&(0,r.jsx)(f,{host:t,apiKey:n,nonce:a,integrity:o,onCompleted:e=>{C(e.token)},onShown:()=>w(!0),onShow:()=>w(!0),onHide:()=>w(!1),onError:e=>{(0,s.Cp)(e.error)},setArkoseEnforcement:m})]})}function g(){return(0,c.useContext)(v)}let b=()=>{let e=h(),[t,n,r]=(0,u.V)(p,void 0),{mutateAsync:o}=(0,a.L2)("api/arkose/verify","POST");return(0,c.useCallback)(async()=>{e&&t&&(r(),await o({session_token:t}))},[e,o,t,r])}},8139:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(44760),a=n.n(r)},21956:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>S,NA:()=>T,VL:()=>P,Vq:()=>E,WX:()=>_,Xd:()=>C,bl:()=>k,nY:()=>w});var r=n(2975),a=n(10158),o=n(96712),i=n(1761),s=n(51121),l=n(48379),c=n(99539),d=n(63246),u=n(46612),p=n(71473);n(65631);var f=n(27062),h=n(87606),v=n(62942),m=n(7620),g=n(68096),b=n(51869),x=n(40459);let w=()=>{let e=(0,v.useRouter)(),t=(0,o.l)();return{refresh:()=>{e.refresh()},switchAndRefresh:(e,n)=>{t.set(u.eT.LAST_ACTIVE_ORG,e),n?location.pathname=n:location.reload()}}},y=e=>{let{account:t}=(0,i.YL)(),n=(0,c.y_)(e),a=(0,r.D5)(),{value:o}=(0,f.fS)("age_gate_reverification");return((0,m.useEffect)(()=>{t&&a()},[t,a]),t&&((0,d.VH)({account:t,isClaudeDot:e})||(0,d.Bs)(t,e)))?"/onboarding":t&&(0,d.u5)(t,e,o)?"/age-verification":t&&(0,d.NJ)(t,e)?"/invites":t&&(0,d.Ah)(t,e)?"/create":t&&n?"/upgrade":e?"/new":"/dashboard"};function C(e){let{value:t}=(0,f.fS)("show_affirmative_consent"),{value:n}=(0,f.fS)("show_affirmative_consent_for_privacy_policy");return(0,m.useMemo)(()=>[...t===e?["aup","consumer-terms"]:[],...n===e?["privacy"]:[]],[n,t,e])}let _=(e,t,n)=>{let r=(0,l.S)(),{mutateAsync:a}=(0,g.nX)();return(0,m.useCallback)(async()=>{if(!e||!r||0===t.length)return;let o=t.map(e=>({document_id:"v3:".concat(e,":").concat(r[e]),accepted_via_checkbox:n}));await a({acceptances:o})},[e,r,t,a,n])},k=(e,t)=>{let{account:n,refetch:r,setActiveOrganizationUUID:a}=(0,i.YL)(),[o,l]=(0,m.useState)(!1),[c,d]=(0,m.useState)(!1),u=P(),{addSuccess:f}=(0,s.Y)(),{data:v}=(0,g.kd)(e),b=(0,h.useQueryClient)();return(0,m.useEffect)(()=>{n&&o&&c&&(t?t(u):u())},[c,u,o,n,t]),(0,m.useCallback)(async()=>{var e,t;l(!0);let n=await r();await b.invalidateQueries({queryKey:[p.Jz]}),(null==v?void 0:v.organization_uuid)&&(a(v.organization_uuid),f("Successfully joined ".concat(v.organization_name))),n&&(null==(t=window.google)||null==(e=t.accounts)?void 0:e.id)&&window.google.accounts.id.cancel(),d(!0)},[v,f,r,a,b])},P=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,v.useSearchParams)().get("returnTo"),n=S(e);return(0,m.useCallback)(()=>{n(t)},[n,t])},S=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:t}=(0,i.YL)(),[n,r]=(0,m.useState)(!1),o=(0,v.useRouter)(),[s,l]=(0,m.useState)(null),c=(0,v.usePathname)(),d=(0,v.useSearchParams)(),u=(0,a.fZ)(),p=y(u);return(0,m.useEffect)(()=>{(n||e)&&!t&&o.push((0,b.rt)(c,d.toString()))},[t,o,n,e,c,d]),(0,m.useEffect)(()=>{if(n&&t){let e=(0,b.Cy)(t,s,p,u,!!x.env.NEXT_PUBLIC_SHOW_US_GOVT_SYSTEM_USE_NOTIFICATION);e!==window.location.href.replace(window.location.origin,"")&&(o.push(e),o.refresh())}},[t,o,n,s,p,u]),(0,m.useCallback)(e=>{e&&l(decodeURIComponent(e)),r(!0)},[])};function E(){let[e,t]=(0,m.useState)(!1);return{getRecaptchaToken:(0,m.useCallback)(async(e,n)=>x.env.NEXT_PUBLIC_DISABLE_RECAPTCHA?Promise.resolve("recaptcha-ignore-token"):(t(!0),new Promise((r,a)=>{if("undefined"==typeof grecaptcha)return t(!1),a(Error("Recaptcha failed to load"));grecaptcha.enterprise.ready(()=>{grecaptcha.enterprise.execute(e,{action:n}).then(e=>{r(e),t(!1)},e=>{t(!1),a(e)})})})),[]),isLoading:e}}function T(e){let[t,n]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(!t){let t=setInterval(()=>{(window.grecaptcha||x.env.NEXT_PUBLIC_DISABLE_RECAPTCHA)&&(n(!0),e())},10);return()=>clearInterval(t)}},[t,n,e])}},32819:(e,t,n)=>{"use strict";n.d(t,{PublicArtifactContent:()=>g});var r=n(54568),a=n(10498),o=n(85330),i=n(1761),s=n(54890),l=n(7620),c=n(22336),d=n(71267),u=n(21956),p=n(41417),f=n(37076),h=n(76761),v=n(62971);let m=e=>{let{isOpen:t,onClose:n}=e,a=(0,u.Cu)();return(0,r.jsxs)(f.aF,{isOpen:t,onClose:n,children:[(0,r.jsx)(p.$,{variant:"ghost",size:"unset",className:"text-text-300 h-6 w-6 rounded-md active:scale-90 !absolute top-4 right-4",onClick:n,children:(0,r.jsx)(h.X,{size:16})}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 mt-4",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:(0,r.jsx)(v.A,{defaultMessage:"You need a Claude account to use this artifact",id:"jzcrjmVTFk"})}),(0,r.jsx)("p",{children:(0,r.jsx)(v.A,{defaultMessage:"Log in to Claude to use or customize this artifact. No account? You can create one for free.",id:"2iPAwj1yCC"})}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(p.$,{variant:"primary",onClick:()=>a(window.location.href),className:"flex-1",children:(0,r.jsx)(v.A,{defaultMessage:"Log in",id:"odXlk858Gb"})})})]})]})},g=e=>{let{artifact:t,remixBaseUrl:n,artifactId:u,activitySessionId:p}=e,f=t.type===s.vU.Text,[h,v]=(0,l.useState)(!1),{account:g}=(0,i.YL)(),{mutate:b}=(0,c.b5)(u,p),x=(0,l.useRef)(b);x.current=b;let w=(0,o.f)({artifactUuid:u,onMissingOrganization:()=>{throw v(!0),Error("An error occurred")}}),y=(0,l.useMemo)(()=>({claudeComplete:w}),[w]);return(0,l.useEffect)(()=>{x.current({account_uuid:null==g?void 0:g.uuid})},[u,p,null==g?void 0:g.uuid]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.ArtifactFrame,{artifact:t,publishedArtifactUuid:u,remixBaseUrl:n,children:(0,r.jsx)(a.k,{isOpen:!0,content:t.content,type:t.type,language:t.language,showRaw:f,isCurrentStreaming:!1,richSandboxCapabilities:y})}),(0,r.jsx)(m,{isOpen:h,onClose:()=>v(!1)})]})}},41417:(e,t,n)=>{"use strict";n.d(t,{$:()=>p});var r=n(54568),a=n(18179),o=n(615),i=n(32987),s=n(27261),l=n.n(s),c=n(7620);let d="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",u=(0,o.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200",secondary:d,outline:d,ghost:"text-text-300\n          border-transparent\n          transition\n          font-ui\n          tracking-tight\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-pressed:bg-bg-400\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),p=(0,c.forwardRef)((e,t)=>{let{className:n,variant:o,size:s,option:c,loading:d,href:p,onLinkClick:f,target:h,prepend:v,append:m,state:g,disabled:b,children:x,type:w="button",...y}=e;v&&(c="prepend"),m&&(c="append");let C=(0,i.A)(u({variant:o,size:s,option:c,state:g,className:n}),d&&"text-transparent ![text-shadow:_none]"),_=(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)("div",{className:(0,i.A)("absolute inset-0 flex items-center justify-center",o&&"flat"!==o&&"danger"!==o?"secondary"===o?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,r.jsx)(a.Loading,{size:"sm",inheritColor:!0,delay:0})}),v,x,m]});return p?(0,r.jsx)(l(),{href:p,target:h||"_self",className:C,"aria-label":y["aria-label"],onClick:f,children:_}):(0,r.jsx)("button",{className:C,ref:t,disabled:b||d,type:w,...y,children:_})});p.displayName="Button"},48379:(e,t,n)=>{"use strict";n.d(t,{LegalDocsProvider:()=>i,S:()=>s});var r=n(54568),a=n(7620);let o=(0,a.createContext)(void 0),i=e=>{let{value:t,children:n}=e;return(0,r.jsx)(o.Provider,{value:t,children:n})};function s(){return(0,a.useContext)(o)}},51869:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>o,HT:()=>l,TR:()=>c,q:()=>s,rt:()=>i});var r=n(63246),a=n(46612);let o=(e,t,n,o,i)=>{if(i&&!localStorage.getItem(a.EB.ACCEPTED_US_GOVERNMENT_SYSTEM_NOTIFICATION))return"/us-govt-system-warning";if(!t||!t.startsWith("/")||"/"===t||"/?"===t)return n;if((0,r.Xs)(e,o)){let e=new URL(n,window.location.origin),r=new URLSearchParams(e.search);return r.set("returnTo",t),"".concat(e.pathname,"?").concat(r.toString())}return s(t)},i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="".concat(e,"?").concat(t),o=new URLSearchParams(r);return o.append("returnTo",a),"".concat(n,"?").concat(o.toString())};function s(e){let t=new URL(e,"http://example.com");return t.pathname.replace(/^\/+/,"/")+t.search}function l(e){return e.reduce((e,t)=>{let n=localStorage.getItem(t);return null!==n&&e.push([t,n]),e},[])}function c(e){e.forEach(e=>{let[t,n]=e;localStorage.setItem(t,n)})}},51948:(e,t,n)=>{Promise.resolve().then(n.bind(n,71267)),Promise.resolve().then(n.bind(n,32819)),Promise.resolve().then(n.bind(n,34577)),Promise.resolve().then(n.bind(n,61529)),Promise.resolve().then(n.bind(n,87606)),Promise.resolve().then(n.bind(n,24199)),Promise.resolve().then(n.bind(n,99757)),Promise.resolve().then(n.bind(n,63339)),Promise.resolve().then(n.bind(n,16258)),Promise.resolve().then(n.bind(n,4049)),Promise.resolve().then(n.bind(n,84007)),Promise.resolve().then(n.bind(n,67933)),Promise.resolve().then(n.bind(n,3149)),Promise.resolve().then(n.bind(n,82613)),Promise.resolve().then(n.bind(n,38237)),Promise.resolve().then(n.bind(n,10498))},53248:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});let r=e=>{let t="";if(e.content)for(let n of e.content)"text"===n.type&&(t+=n.text);return t}},99539:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>h,XK:()=>v,Zl:()=>g,hz:()=>f,y_:()=>m});var r=n(77186),a=n(96712),o=n(51121),i=n(46612),s=n(71473),l=n(27062),c=n(7620),d=n(46760),u=n(20880),p=n(2462);function f(){var e;let t=(0,a.l)(),n=null!=(e=t.get(i.eT.PROMOTION))?e:null;return{data:(0,p.lx)(n),mutate:(0,c.useCallback)(e=>{t.set(i.eT.PROMOTION,JSON.stringify(e),{maxAgeSeconds:7776e3})},[t]),delete:(0,c.useCallback)(()=>{t.delete(i.eT.PROMOTION)},[t])}}function h(){var e,t,n;let{data:a}=f(),o=(t=null!=(e=null==a?void 0:a.promotionId)?e:null,n=e=>(0,p.IQ)(e,a),(0,r.Sk)("/api/billing/promotion/".concat(t),{queryKey:[s.t6,t],enabled:!!t,meta:{noToast:!0}},e=>(e.promotionId=t,n)?n(e):e));return{...o,isPending:o.isPending&&!!(null==a?void 0:a.promotionId)}}function v(){let{data:e,mutate:t}=f();(0,c.useEffect)(()=>{(null==e?void 0:e.needsCheckout)&&(e.needsCheckout=void 0,t(e))},[e,t])}function m(e){let{data:t,mutate:n}=f(),r=null==t?void 0:t.promotionId,a=(0,l.T9)("claude_ai_targeted_promotion","promotionId",null,u.z.string().nullable());return(0,c.useEffect)(()=>{!r&&a&&n({promotionId:a})},[r,a,n]),!!e&&!!(null==t?void 0:t.needsCheckout)&&!!(null==t?void 0:t.promotionId)}let g=()=>{let e=(0,c.useRef)(!1),t=(0,o.Y)(),n=(0,d.A)(),{delete:r}=f();return(0,c.useCallback)(a=>{(null==a?void 0:a.offerError)&&!e.current&&(e.current=!0,t.addError(n.formatMessage({defaultMessage:"This promotion is not available for your account",id:"Vu9kt6ezVH"})),r())},[t,r,n])}}},e=>{var t=t=>e(e.s=t);e.O(0,[1658,6760,2846,7261,8499,1036,5015,5278,7773,427,7463,3243,5647,2715,9304,6631,7754,5273,5210,1773,4767,6138,7351,9695,1761,7263,7300,4665,498,1510,587,842,3915,7358],()=>t(51948)),_N_E=e.O()}]);